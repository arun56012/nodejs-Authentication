<h1>
    codial/<%= title %> 
</h1>
 
<link rel="stylesheet" href="/css/user_sign_in.css">
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<h1>
    codial/<%= title %> 
</h1>

<body>
<div class="form-container">
    <!-- sign-in.ejs -->
<h2>Sign In to Your Account</h2>

     <!-- Flash Messages -->
     <% if (error_msg) { %>
        <div class="alert error"><%= error_msg %></div>
    <% } %>

    <% if (success_msg) { %>
        <div class="alert success"><%= success_msg %></div>
    <% } %>


<form action="/users/handleSignIn" method="POST">
    <!-- Email Field -->
    <input type="email" name="email" placeholder="Email Address" value="<%= email || '' %>" required>
    
    <!-- Password Field -->
    <input type="password" name="password" placeholder="Password" required>

    <!-- Submit Button -->
    <button type="submit">Sign In</button>
</form>

<div class="signup-link">
    <p>Don't have an account? <a href="/users/sign-up">Sign up here</a></p>
</div>
<!-- <a href='/auth/google'>Login with Google</a> -->

<a href="/auth/google">
    <img src="https://developers.google.com/identity/images/btn_google_signin_dark_normal_web.png" 
         alt="Sign in with Google">
</a>


</div>



<script>
    // Automatically remove alerts after 3 seconds
    setTimeout(() => {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            alert.classList.add('fade-out');
            setTimeout(() => alert.remove(), 500); // Remove from DOM after fading out
        });
    }, 3000);
</script>

</body>
